# Java 教材

## 第一节 数据， 字符串与数学函数

- 数据（данные）
    - 与程序的关系：任何程序都可以用数据和处理这些数据的代码来表示。
        - ![](pic\Java数据1.png)
    - 与程序的交互：程序与数据的交互是通过访问存储必要数据的内存区域来完成的
    - 构成：
        - 名称：数据的名称，对应一个数据存储的地址，程序以此访问数据并对数据做出操作
        - 数值：数据本身所存储的数值，可以是数字，字符，字符串，以及其他各种类型的数据，在内存中用二进制数存储
    - 存储：数据在内存中的存储可以通过这样的一种列表表示出来（如图），其中的每一格都对应内存中的一个单元，每一格这样的单元都可以存储一些值（包括但不限于数字，字符等）。每一个存有值的单元都对应一个名称，程序可以通过这些名称注意对应地访问他们的值，并且做出操作：
        - ![](pic\Java数据2.png)
    - 分类：在程序的实现中，数据一般分为以下几种：
        - 变量（переменная）：
            - 概念：相当于一个命名的指针，指向一个包含数据值的内存单元
            - 特点：变量的值可以在程序执行过程中被改变
            - 声明：变量的声明遵循以下语法：  
                ```Java
                тип_данных имя_переменной;
                ```

                其中:  
                - `тип_данных` - 数据类型，用于表示要声明的数据是哪一种类型，例如整数型（`int`），单精度浮点型（`float`）等，在下文会做出详细说明
                - `имя_переменной` - 变量名称，程序据此访问对应的数据值
                    - 命名规则：可以用拉丁字母开头，但不能以数字开头，可以包含拉丁字符，数字等。（需要注意的是：Java 的变量区分字符大小写）也可以包含'_'符号
                    - >P.S. 虽然变量名称可以除拉丁字符和数字以外还可以包含西里尔字符甚至汉字，但一般只用拉丁字符和数字命名，并且在规范上一般遵循：
                        >- 小驼峰命名法：除第一个单词之外，其他单词首字母大写
                        >- 匈牙利命名法：**变量名**＝**属性**＋**类型**＋**对象描述**，这样做的好处是使程序员第一眼看到变量时就对变量的类型和其它属性有直观的了解。
                        >- 下划线命名法：所有字母均小写，每个单词间以下划线分割
            - 赋值：一个声明的变量，如果没有给它分配一个默认值，就不能使用它，除非给它分配一个值，变量的赋值遵循以下语法：  
                ```Java
                имя_переменной = значение_по_умолчанию;
                ```

                其中:  
                - `имя_переменной` - 变量名称，同上
                - `значение_по_умолчанию` - 变量的值，要赋予该变量的值，该值的类型必须与之前声明时的数据类型相符
            - 声明并赋值：变量的声明和赋值也可以同时在一条语句中进行，形如：  
                - `тип_данных имя_переменной =  значение_по_умолчанию;`
            - 实例：
                - 源码：  
                    ```Java
                    int x;
                    int y = 5;
                    ```
                - 上述变量在存储器中的情况：
                - ![](pic\Java数据3.png)
        - 常量（константа）
            - 概念：同变量，相当于一个命名的指针，指向一个包含数据值的内存单元，不同的是，这些值位于内存中允许单条记录的区域。即在整个程序执行过程中，对常量的赋值只能进行一次。
            - 特点：常量的值在程序执行过程中保持恒定不变
            - 声明：与变量类似，但不同的是，常量的声明在Java中需要使用 `final` 关键字，常量的声明遵循以下语法：
                ```Java
                final тип_данных имя_константы;
                ```

                其中:
                - `final` - 用于标识声明常量的关键字
                - `тип_данных` - 数据类型，同上
                - `имя_константы` - 常量名称，其命名规则同变量
            - 赋值：与变量的赋值语法相同，并且也可以在声明的同时赋值
            - 实例：
                - 源码：
                    ```Java
                    final double E = 5.0;
                    final double R;
                    R = 5.0;
                    ```
        - 未命名数据
            - 概念：没有经过声明，直接在代码中插入数据值来使用的数据
            - 实际应用：我们来看一段 *用于计算每年的工作小时数* 的代码：
            ```Java
            int total =  8 * 5 * 4 * 12;    // ПЛОХО
            final int HOURS = 8, DAYS = 5, WEEKS = 4, MONTHS = 12; // ...
            int total = HOURS * DAYS * WEEKS * MONTHS;    // ХОРОШО
            ```
            其中：
            - 第一行语句定义了一个 `total` 变量，直接使用了右边的未命名数据（8, 5, 4, 12）赋值，虽然这种做法在语法上是合法的，但是我们难以得知这些数据的意义和用途，因此这是一段不好的代码
            - 第二行代码分别定义了 `HOURS`、`DAYS`、`WEEKS`、`MONTHS` 变量来存储这些数据，并在第三行定义的 `total` 变量的赋值中被引用，这样就能很容易理清这些数值的具体意义  
            因此：
            - 在实际的程序编写中，对于有一定意义的常量数据大量地直接在代码中使用是不好的做法，因为它大大降低了程序源代码的易读性，并且提高了维护难度，而如果对这些数值使用符合其意义的名称命名，源码的条理就会变得清晰
    - 数据类型
        - 数据类型分类
            | 整数类   | 浮点数类  | 逻辑类  | 对象类 |
            |----------|----------|-----------|--|
            |  `byte`  | `double` | `boolean` |  |
            |  `short` | `float`  |           |  |
            |  `char`  |          |           |  |
            |  `int`   |          |           |  |
            |  `long`  |          |           |  |

            基本上 Java 所有的数据类型都可以按照上述表格进行分类，其中：
            - 前两类都是数字，它们之间唯一的区别就是占用内存的多少
            - 可以注意到，**字符类型**（`char`）也属于整数类的数据类型，这是因为计算机存储字符的时候会按照字符编码转变为数字来进行存储
            - **逻辑类型**（`boolean`）是数据的一种变体，其值只能取两个值：真（`true`）或假（`false`），当需要存储一些位标志或属性数据时，它很方便，例如存储按钮是否被按下的信息等
            - 对象是一类复杂的数据，本课程后面会讨论
        - 数据类型的取值范围
            | 数据类型（Тип данных） | 大小（Размер (比特бит)）| 取值（Значения） |
            |:---------------------:|:----------------------:|------------------|
            | `byte`  | 8  | 从 $-128(-2^{7})$ 到 $127(2^{7}-1)$                 |
            | `short` | 16 | 从 $-32768(-2^{15})$ 到 $32767(2^{15}-1)$           |
            | `char`  | 16 | 从 $0$ 到 $65535(2^{16}-1)$                         |
            | `int`   | 32 | 从 $-2147483648(-2^{31})$ 到 $2147483647(2^{31}-1)$ |
            | `long`  | 64 | 从 $-9223372036854775808(-2^{63})$ 到 $-9223372036854775808(2^{63}-1)$ |
            | `float` | 32 | 从 $-1.4e-45f$ 到 $3.4e+38f$                        |
            | `double`| 64 | 从 $-4.9e-324$ 到 $1.7e+308$                        |
            |`boolean`| 1 或 32 | `true` 或 `false`                              |

            上述表格显示了标准数据类型占用的内存量和有效值的范围，其中应特别注意：
            - **逻辑类型**（`boolean`）：存储该类型值所消耗的内存取决于定义该类型变量的环境：当使用逻辑类型的数组时，一个元素的`boolean` 数据只占用一位内存。如果你单独声明一个这种类型的变量时，存储的值会消耗 32 位的内存（相当于使用int类型）
            - **字符类型**（`char`）：顾名思义，这是一种用于存储字符的数据类型。但 Java 规定它是一个整数类，即作为**无符号短整型**（`unsigned short`），因为 `short` 是一个占 16 位内存的类型，，去除符号位，因此可以取值到 $65535(2^{16}-1)$，而对于存储 Unicode 字符代码，它正好需要这么多。
